<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

</head>
<body>
    <script>
    
        // anonymous async function - using await requires the function that calls it to be async
        $(async() => {           
            // Change serviceURL to your own
            var serviceURL = "https://g3t3-search.herokuapp.com/locations";

            var locations_arr = []

            for (const location of locations) []
    
            try {
                const response =
                await fetch(
                    serviceURL, { method: 'GET' }
                );
                const data = await response.json();
                var books = data.books; //the arr is in data.books of the JSON data
                // array or array.length are falsy
                if (!books || !books.length) {
                    showError('Books list empty or undefined.')
                } else {
                    // for loop to setup all table rows with obtained book data
                    var rows = "";
                    for (const book of books) {
                        eachRow =
                            "<td>" + book.title + "</td>" +
                            "<td>" + book.isbn13 + "</td>" +
                            "<td>" + book.price + "</td>" +
                            "<td>" + book.availability + "</td>";
                        rows += "<tbody><tr>" + eachRow + "</tr></tbody>";
                    }
                    // add all the rows to the table
                    $('#booksTable').append(rows);
                }
            } catch (error) {
                // Errors when calling the service; such as network error, 
                // service offline, etc
                showError
                  ('There is a problem retrieving books data, please try again later.<br />'+error);
               
            } // error
        });
    </script>
</body>
</html>